<app-header></app-header>

<div class="row">
  <div class="align-items-center">
    <h2 class="text-center">Sincronizar Libros y Autores</h2>
  </div>
</div>
<div class="row">
  <div class="d-grid gap-2 col-6 mx-auto">
    <button type="button" class="btn btn-primary" (click)="sincronizar()">
      Sincronizar
    </button>
  </div>
</div>
<div class="row">
  <div class="col-md-8">
    <h2>Libros</h2>
    <table
      #dTable
      datatable
      [dtOptions]="dtOptionsLibros"
      class="table table-striped row-border hover"
      cellspacing="0"
    >
      <thead>
        <tr>
          <th scope="col ">#N</th>
          <th scope="col ">Título</th>
          <th scope="col ">Descripción</th>
          <th scope="col ">No. Paginas</th>
          <th scope="col ">Resumen</th>
          <th scope="col ">Publicado el</th>
        </tr>
      </thead>
      <tbody *ngIf="books?.length != 0">
        <tr *ngFor="let book of books">
          <th scope="row">{{ book.id }}</th>
          <td>{{ book.title }}</td>
          <td>{{ book.description }}</td>
          <td class="text-rigth">{{ book.pageCount }}</td>
          <td>{{ book.excerpt }}</td>
          <td>{{ book.publishDate | date: "dd/MM/yyyy hh:mm:ss" }}</td>
        </tr>
      </tbody>
      <tbody *ngIf="books?.length == 0">
        <tr>
          <td colspan="6" class="no-data-available text-center">No data!</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="col-md-4">
    <h2>Autores</h2>
    <table
      #dTable
      datatable
      [dtOptions]="dtOptionsAutores"
      class="table table-striped table-bordered table-sm"
      cellspacing="0"
      width="90%"
    >
      <thead>
        <tr>
          <th scope="col ">#N</th>
          <th scope="col ">Nombres</th>
          <th scope="col ">Apellidos</th>
          <th scope="col ">Titulo del libro</th>
        </tr>
      </thead>
      <tbody *ngIf="authors?.length != 0">
        <tr *ngFor="let author of authors">
          <th scope="row">{{ author.id }}</th>
          <td>{{ author.firstName }}</td>
          <td>{{ author.lastName }}</td>
          <td class="text-rigth">{{ author.idBookNavigation.title }}</td>
        </tr>
      </tbody>
      <tbody *ngIf="authors?.length == 0">
        <tr>
          <td colspan="6" class="no-data-available text-center">No data!</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
